import{c as f,a as i,f as j,j as e,m as l,A as v}from"./index-BELNGNtz.js";import{X as g,f as h}from"./util-sjr1NwLw.js";import{L as N}from"./loader-circle-BV5QKmeq.js";import{S as A}from"./send-DV4FtCEz.js";/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],I=f("arrow-left",E);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],c=f("bot",H),M=({onClose:p})=>{const[n,m]=i.useState(""),r=i.useRef(null),u=i.useRef(null),{aiState:{messages:s,isLoading:t},sendMessage:b,subscribeToAiEvents:d,unsubscribeFromAiEvents:o}=j();i.useEffect(()=>{var a;return d(),(a=r.current)==null||a.focus(),()=>o()},[d,o]),i.useEffect(()=>{var a;(a=u.current)==null||a.scrollIntoView({behavior:"smooth"})},[s]);const x=a=>{a.preventDefault(),!(!n.trim()||t)&&(b(n),m(""))},y=s.length===0;return e.jsxDEV("div",{className:"flex flex-col h-full",children:[e.jsxDEV("div",{className:"p-2.5 border-b border-base-300",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"avatar",children:e.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsxDEV(c,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:53,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:52,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:51,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-medium",children:"Chitty AI Agent"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:57,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-sm text-base-content/70",children:t?e.jsxDEV("span",{className:"text-primary animate-pulse",children:"typing..."},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:60,columnNumber:19},void 0):"Ask me about your chats"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:58,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:56,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:50,columnNumber:11},void 0),e.jsxDEV(l.button,{className:"btn btn-sm btn-ghost btn-circle",onClick:p,whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsxDEV(g,{size:18},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:75,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:49,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:48,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[y&&e.jsxDEV(l.div,{className:"chat chat-start",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsxDEV("div",{className:"chat-image avatar",children:e.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsxDEV(c,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:92,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:91,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:90,columnNumber:13},void 0),e.jsxDEV("div",{className:"chat-header mb-1",children:["Chitty AI Agent",e.jsxDEV("time",{className:"text-xs opacity-50 ml-1",children:h(new Date)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:97,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:95,columnNumber:13},void 0),e.jsxDEV("div",{className:"chat-bubble bg-base-200",children:[e.jsxDEV("p",{children:"Hi there! I'm your Chatty AI Assistant. I can help you with information about your chats. Try asking me:"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:100,columnNumber:15},void 0),e.jsxDEV("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[e.jsxDEV("li",{children:"How many chats do I have?"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:102,columnNumber:17},void 0),e.jsxDEV("li",{children:"Show me my chats"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:103,columnNumber:17},void 0),e.jsxDEV("li",{children:"Who am I chatting with?"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:104,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:101,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:84,columnNumber:11},void 0),e.jsxDEV(v,{children:s.map((a,C)=>e.jsxDEV(l.div,{className:`chat ${a.isUser?"chat-end":"chat-start"}`,initial:{opacity:0,x:a.isUser?20:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsxDEV("div",{className:"chat-image avatar",children:e.jsxDEV("div",{className:`w-10 h-10 rounded-full ${a.isUser?"bg-secondary/10":"bg-primary/10"} flex items-center justify-center`,children:a.isUser?e.jsxDEV("div",{className:"font-bold text-secondary",children:"You"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:126,columnNumber:21},void 0):e.jsxDEV(c,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:128,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:124,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:"chat-header mb-1",children:[a.isUser?"You":"Chitty AI",e.jsxDEV("time",{className:"text-xs opacity-50 ml-1",children:h(a.timestamp)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:134,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:132,columnNumber:15},void 0),e.jsxDEV("div",{className:`chat-bubble ${a.isUser?"bg-secondary text-secondary-content":a.isError?"bg-error text-error-content":"bg-base-200"}`,children:a.text},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:136,columnNumber:15},void 0)]},C,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:113,columnNumber:13},void 0))},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:111,columnNumber:9},void 0),t&&!s.some(a=>!a.isUser&&a.timestamp>Date.now()-2e3)&&e.jsxDEV(l.div,{className:"chat chat-start",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsxDEV("div",{className:"chat-image avatar",children:e.jsxDEV("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsxDEV(c,{className:"w-6 h-6 text-primary"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:152,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:151,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:150,columnNumber:13},void 0),e.jsxDEV("div",{className:"chat-bubble bg-base-200 flex items-center gap-2",children:[e.jsxDEV(N,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:156,columnNumber:15},void 0),e.jsxDEV("span",{children:"Thinking..."},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:157,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:155,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:145,columnNumber:11},void 0),e.jsxDEV("div",{ref:u},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:163,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:81,columnNumber:7},void 0),e.jsxDEV("div",{className:"p-3 border-t border-base-300",children:e.jsxDEV("form",{onSubmit:x,className:"flex items-center gap-2",children:[e.jsxDEV("input",{type:"text",placeholder:"Ask me about your chats...",className:"input input-bordered flex-1 rounded-lg input-sm sm:input-md",value:n,onChange:a=>m(a.target.value),disabled:t,ref:r},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:169,columnNumber:11},void 0),e.jsxDEV("button",{type:"submit",className:`btn btn-sm btn-circle ${t?"btn-disabled":"bg-primary"}`,disabled:t||!n.trim(),children:t?e.jsxDEV(N,{className:"w-4 h-4 animate-spin"},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:184,columnNumber:15},void 0):e.jsxDEV(A,{size:18},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:186,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:178,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:168,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:167,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/placement/chatty/client/src/pages/Home/AiChat.jsx",lineNumber:46,columnNumber:5},void 0)};export{M as A,c as B,I as a};
//# sourceMappingURL=AiChat-gIbkg9gP.js.map
