{"version":3,"file":"ProfilePage-BL1cXKDn.js","sources":["../../node_modules/lucide-react/dist/esm/icons/camera.js","../../src/pages/ProfilePage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.488.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z\",\n      key: \"1tc9qg\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"13\", r: \"3\", key: \"1vg3eu\" }]\n];\nconst Camera = createLucideIcon(\"camera\", __iconNode);\n\nexport { __iconNode, Camera as default };\n//# sourceMappingURL=camera.js.map\n","import { Camera, Mail, User } from \"lucide-react\";\nimport { useState, useMemo, useCallback } from \"react\";\n\nimport { toFormData } from \"axios\";\nimport { useApiQuery } from \"../hooks/useApiQuery\";\nimport { useApiMutation } from \"../hooks/useApiMutation\";\n\nconst ProfilePage = () => {\n\n  const { data: authUser } = useApiQuery({ keys: [\"authUser\"], path: '/auth/check' });\n\n  const { mutate: updateProfileMutation, isPending: isUpdatingProfile } = useApiMutation({\n    keys: [\"authUser\"],\n    method: \"patch\",\n    path: \"/auth/profile-update\",\n    message: \"Profile updated!\",\n  })\n\n  const [selectedImg, setSelectedImg] = useState(null);\n\n  const MemoizedCamera = useMemo(() => (\n    <Camera className=\"w-5 h-5 text-base-200\" />\n  ), []);\n\n  const MemoizedUser = useMemo(() => (\n    <User className=\"w-4 h-4\" />\n  ), []);\n\n  const MemoizedMail = useMemo(() => (\n    <Mail className=\"w-4 h-4\" />\n  ), []); \n\n  const handleImageUpload = useCallback(async (e) => {\n    setSelectedImg(URL.createObjectURL(e.target.files[0]));\n    updateProfileMutation(toFormData({ profilePic: e.target.files[0] }));\n  }, [setSelectedImg, updateProfileMutation])\n\n\n  return (\n    <div className=\"overflow-auto\">\n\n      <section className=\"h-[100svh] pt-20\">\n        <div className=\"max-w-2xl mx-auto p-4 py-8\">\n          <div className=\"bg-base-200 rounded-xl p-6 space-y-8\">\n            <div className=\"text-center\">\n              <h1 className=\"text-2xl font-semibold \">Profile</h1>\n              <p className=\"mt-2\">Your profile information</p>\n            </div>\n\n            {/* avatar upload section */}\n\n            <div className=\"flex flex-col items-center gap-4\">\n              <div className=\"relative\">\n                <img className=\"size-32 rounded-full object-cover border-4 \"\n                  src={selectedImg || authUser?.profilePic || \"/avatar.png\"}\n                  alt=\"Profile\"\n                />\n                <label className={`absolute bottom-0 right-0 bg-base-content hover:scale-105 p-2 rounded-full cursor-pointer transition-all duration-200 ${isUpdatingProfile ? \"animate-pulse pointer-events-none\" : \"\"}`} htmlFor=\"avatar-upload\">\n                  {MemoizedCamera}\n                  <input className=\"hidden\"\n                    type=\"file\"\n                    id=\"avatar-upload\"\n                    accept=\"image/*\"\n                    onChange={handleImageUpload}\n                    disabled={isUpdatingProfile}\n                  />\n                </label>\n              </div>\n              <p className=\"text-sm\">\n                {isUpdatingProfile ? \"Uploading...\" : \"Click the camera icon to update your photo\"}\n              </p>\n            </div>\n\n            <div className=\"space-y-6\">\n              <div className=\"space-y-1.5\">\n                <div className=\"text-sm flex items-center gap-2\">\n                  {MemoizedUser}\n                  Full Name\n                </div>\n                <p className=\"px-4 py-2.5 bg-base-200 rounded-lg border\">{authUser?.username}</p>\n              </div>\n\n              <div className=\"space-y-1.5\">\n                <div className=\"text-sm flex items-center gap-2\">\n                  {MemoizedMail}\n                  Email Address\n                </div>\n                <p className=\"px-4 py-2.5 bg-base-200 rounded-lg border\">{authUser?.email}</p>\n              </div>\n            </div>\n\n            <div className=\"mt-6 bg-base-300 rounded-xl p-6\">\n              <h2 className=\"text-lg font-medium  mb-4\">Account Information</h2>\n              <div className=\"space-y-3 text-sm\">\n                <div className=\"flex items-center justify-between py-2 border-b border-base-content/20\">\n                  <span>Member Since</span>\n                  <span>{authUser.createdAt?.split(\"T\")[0]}</span>\n                </div>\n                <div className=\"flex items-center justify-between py-2\">\n                  <span>Account Status</span>\n                  <span className=\"text-green-500\">Active</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\nexport default ProfilePage;"],"names":["__iconNode","Camera","createLucideIcon","ProfilePage","authUser","useApiQuery","updateProfileMutation","isUpdatingProfile","useApiMutation","selectedImg","setSelectedImg","useState","MemoizedCamera","useMemo","jsxDEV","this","MemoizedUser","User","MemoizedMail","Mail","handleImageUpload","useCallback","e","toFormData","_a"],"mappings":"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","x_google_ignoreList":[0]}